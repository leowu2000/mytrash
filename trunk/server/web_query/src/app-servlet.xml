<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
    "http://www.springframework.org/dtd/spring-beans.dtd">

<!-- 配置urlMapping -->
<beans default-autowire="byName">
	<bean id="appHandlerMapping"
		class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="mappings">
			<value>
				/search.do=SearchController
				/detail.do=DetailController
				/media.do=MediaController
				/consult.do=ConsultController
				/login.do=LoginController
			</value>
		</property>
	</bean>

<!-- viewResolver 视图解析器,将视图名(ModelAndView中的view)解析成URL-->
	<bean id="viewResolver"
		class="org.springframework.web.servlet.view.InternalResourceViewResolver">
		<property name="suffix" value=".jsp" />
		<property name="viewClass"
			value="org.springframework.web.servlet.view.InternalResourceView" />
	</bean>

<!--multipartResolver 支持分段文件上传 使用时form需要加上enctype="multipart/form-data"属性,且form的method设置为POST-->
	<bean id="multipartResolver"
		class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
		<property name="maxUploadSize" value="500400000" />
		<property name="maxInMemorySize" value="4096" />
    </bean>

<!-- 定义上面urlMapping所对应的类 -->
	<bean name="SearchController" class="com.basesoft.modules.search.SearchController" />
	<bean name="DetailController" class="com.basesoft.modules.detail.DetailController" />
	<bean name="MediaController" class="com.basesoft.modules.media.MediaController" />
	<bean name="ConsultController" class="com.basesoft.modules.consult.ConsultController"></bean>
	<bean name="LoginController" class="com.basesoft.modules.login.LoginController"></bean>
</beans>

